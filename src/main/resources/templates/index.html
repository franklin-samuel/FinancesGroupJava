<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org" x-data="{ openModal: false }">
<head>
    <meta charset="UTF-8">
    <title>Gerenciador de Metas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center p-6">

<h1 class="text-3xl font-bold mb-6">Gerenciador de Metas Financeiras</h1>

<!-- BotÃ£o Criar Meta -->
<button @click="openModal = true"
        class="mb-6 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
    Criar Meta
</button>

<!-- Lista de Metas -->
<ul class="w-full max-w-md">
    <li th:each="meta : ${metas}"
        th:onclick="'window.location.href=\'/meta/' + ${meta.id} + '\';'"
        class="bg-white p-4 mb-3 rounded shadow cursor-pointer hover:bg-blue-50 transition">
        <span class="font-semibold" th:text="${meta.nome}">Nome da Meta</span>
        <span class="float-right" th:text="'R$ ' + ${meta.valorTotal}">0.00</span>
    </li>
</ul>

<!-- Modal Criar Meta -->
<div x-show="openModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
    <div @click.away="openModal = false" class="bg-white rounded-lg p-6 w-full max-w-sm">
        <h2 class="text-xl font-bold mb-4">Criar Nova Meta</h2>
        <form th:action="@{/meta/criarMeta}" method="post" class="space-y-4">
            <div>
                <label for="nome" class="block font-medium">Nome da Meta</label>
                <input type="text" id="nome" name="nome" required
                       class="w-full border rounded px-3 py-2 mt-1">
            </div>
            <div>
                <label for="valorTotal" class="block font-medium">Valor Total</label>
                <input type="number" id="valorTotal" name="valorTotal" step="0.01" required
                       class="w-full border rounded px-3 py-2 mt-1">
            </div>
            <div class="flex justify-end space-x-2">
                <button type="button" @click="openModal = false"
                        class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400">Cancelar</button>
                <button type="submit"
                        class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Criar</button>
            </div>
        </form>
    </div>
</div>

</body>
</html>
